{"title":"Worked Examples Library","markdown":{"yaml":{"title":"Worked Examples Library","subtitle":"Complete Analytical Workflows for CQC Analysts","number-sections":false},"headingText":"Overview","containsRefs":false,"markdown":"\n\n\n**Purpose**: Complete, realistic analytical workflows demonstrating statistical methods in authentic CQC contexts.\n\n**Based on**: Real CQC analytical scenarios from State of Care 2024/25 and common regulatory analytics patterns.\n\n**What makes these examples special**:\n- ‚úÖ Realistic data with quality issues (not toy examples)\n- ‚úÖ Complete workflows from data prep to stakeholder reporting\n- ‚úÖ QA documentation modeled throughout\n- ‚úÖ Dual R/Python code for all analyses\n- ‚úÖ Based on actual CQC analytical questions\n\n---\n\n## üìö Available Examples\n\n### Example 1: GP Access Analysis (Z-scoring)\n**Status**: ‚úÖ **COMPLETE**  \n**Method**: Z-scoring with data quality challenges  \n**File**: `01-gp-access-analysis/`  \n**Time**: 2-3 hours | **Complexity**: Medium\n\n**Scenario**: Compare GP practices on patient access metrics (phone contact difficulty) using 2025 GP Patient Survey data. Identify practices with significantly worse access for targeted support.\n\n**Key Features**:\n- 6,500 GP practices\n- Survey response rates vary\n- Missing data (~5%)\n- Small practice size considerations\n- Deprivation as potential confounder\n\n---\n\n### Example 2: Care Home Falls Monitoring (SPC)\n**Status**: ‚úÖ **COMPLETE**  \n**Method**: Statistical Process Control with intervention  \n**File**: `02-care-home-falls-spc/`  \n**Time**: 2-3 hours | **Complexity**: Medium\n\n**Scenario**: Monitor monthly falls rates in a care home over 24 months. A falls prevention program was implemented at month 13. Determine if intervention reduced falls and if performance is stable.\n\n**Key Features**:\n- Time series data (24 months)\n- Clear intervention point\n- Seasonal variation\n- Special cause event (outbreak month)\n- Baseline vs post-intervention comparison\n\n---\n\n### Example 3: Mental Health Wait Times (Skewed Data)\n**Status**: ‚úÖ **COMPLETE**  \n**Method**: Z-scoring with transformation  \n**File**: `example-03-complete.qmd`  \n**Time**: 2-3 hours | **Complexity**: Medium-High\n\n**Scenario**: Compare community mental health services on wait times from assessment to treatment. Data from Community Mental Health Survey 2024 shows highly skewed distribution (most services <3 months, some >6 months).\n\n**Key Features**:\n- 150 mental health trusts\n- Highly skewed data (right tail)\n- Survey-based (response bias considerations)\n- Working z-scores vs transformation\n- Interpretation with non-normal data\n\n---\n\n### Example 4: Medication Safety Pilot (Paired t-test)\n**Status**: ‚úÖ **COMPLETE**  \n**Method**: Paired t-test with small sample  \n**File**: `example-04-complete.qmd`  \n**Time**: 2-3 hours | **Complexity**: Medium\n\n**Scenario**: A medication safety intervention was piloted in 15 care homes. Compare medication incident rates before and after the 6-month pilot to assess effectiveness for potential rollout.\n\n**Key Features**:\n- Small sample (N=15 care homes)\n- Paired design (before/after)\n- One outlier (very large reduction)\n- Effect size interpretation\n- Statistical vs practical significance\n\n---\n\n### Example 5: Regional A&E Performance (Two-sample t-test)\n**Status**: ‚úÖ **COMPLETE**  \n**Method**: Two-sample t-test  \n**File**: `example-05-complete.qmd`  \n**Time**: 2-3 hours | **Complexity**: Medium\n\n**Scenario**: Compare A&E 4-hour wait performance between two integrated care systems (ICS) to understand if regional differences exist. Data from 200 hospital trusts (100 per ICS).\n\n**Key Features**:\n- Independent samples\n- Approximately normal distribution\n- Assumption checking\n- Confounders (trust size, deprivation)\n- Practical significance interpretation\n\n---\n\n### Example 6: Ambulance Handover Delays (Time Series)\n**Status**: ‚úÖ **COMPLETE**  \n**Method**: SPC + trend analysis  \n**File**: `example-06-complete.qmd`  \n**Time**: 2-3 hours | **Complexity**: Medium-High\n\n**Scenario**: Monitor ambulance handover delays (>30 minutes) across a hospital trust over 18 months. Identify trends and special causes.\n\n**Key Features**:\n- Monthly time series\n- Increasing trend\n- Winter pressures (seasonality)\n- Multiple special causes\n- System-level factors\n\n---\n\n### Example 7: Infection Rates in Care Homes (Count Data)\n**Status**: ‚úÖ **COMPLETE**  \n**Method**: Rate comparison with varying denominators  \n**File**: `example-07-complete.qmd`  \n**Time**: 1-2 hours | **Complexity**: Medium\n\n**Scenario**: Compare infection rates across care homes using Vivaldi study data. Account for varying resident numbers and case-mix.\n\n**Key Features**:\n- Count data (infections)\n- Varying denominators (residents)\n- Case-mix adjustment needed\n- Small numbers in some homes\n- Rate vs count interpretation\n\n---\n\n### Example 8: DoLS Application Trends (Local Authority)\n**Status**: ‚úÖ **COMPLETE**  \n**Method**: Panel data + interrupted time series  \n**File**: `example-08-complete.qmd`  \n**Time**: 2-3 hours | **Complexity**: High\n\n**Scenario**: Analyze Deprivation of Liberty Safeguards (DoLS) application trends across local authorities. Identify authorities with unusual patterns.\n\n**Key Features**:\n- Local authority level data\n- Time trends\n- Population size variation\n- Backlog considerations\n- Policy change impact\n\n---\n\n### Example 9: Staffing and Quality Outcomes (Correlation)\n**Status**: ‚úÖ **COMPLETE**  \n**Method**: Correlation analysis with confounding considerations  \n**File**: `example-09-complete.qmd`  \n**Time**: 3-4 hours | **Complexity**: Medium-High\n\n**Scenario**: Investigate whether registered nurse staffing ratios are associated with resident safety outcomes (pressure ulcer rates) in ~800 residential care homes. Media coverage has suggested lower staffing = worse outcomes, but you need proper evidence for policy recommendations.\n\n**Key Features**:\n- Exploring relationships between variables\n- Choosing Pearson vs Spearman correlation\n- Handling outliers appropriately\n- Considering confounding variables (home size, resident complexity, location)\n- Distinguishing correlation from causation\n- Sensitivity analyses to test robustness\n- Communicating uncertainty and limitations\n\n---\n\n### Example 10: Care Home Staffing Investigation (Outlier Detection)\n**Status**: ‚úÖ **COMPLETE**  \n**Method**: Outlier detection and treatment  \n**File**: `example-10-outliers.qmd`  \n**Time**: 2-3 hours | **Complexity**: Medium\n\n**Scenario**: Analyze staffing ratios (qualified staff per 10 residents) across 350 care homes. Recent submissions show extreme values ranging from 0 to 12. Systematically identify which extreme values warrant investigation and distinguish data errors from genuine extremes.\n\n**Key Features**:\n- Applying multiple detection methods (Z-score, Modified Z-score, IQR)\n- Comparing method agreement for prioritization\n- Systematic investigation process\n- Distinguishing data errors from genuine extremes\n- Handling small provider variation\n- Treatment decision framework (keep/remove/adjust)\n- Documenting outlier decisions for regulatory defensibility\n\n---\n\n## üéØ Example Structure\n\nEach example follows this structure:\n\n```\nexample-name/\n‚îú‚îÄ‚îÄ README.md                 # Scenario description & learning objectives\n‚îú‚îÄ‚îÄ data/\n‚îÇ   ‚îú‚îÄ‚îÄ raw_data.csv         # Synthetic dataset (with realistic issues)\n‚îÇ   ‚îú‚îÄ‚îÄ data_dictionary.md   # Variable descriptions\n‚îÇ   ‚îî‚îÄ‚îÄ clean_data.csv       # After cleaning (for comparison)\n‚îú‚îÄ‚îÄ analysis/\n‚îÇ   ‚îú‚îÄ‚îÄ 01-data-prep.qmd     # Data cleaning & QA\n‚îÇ   ‚îú‚îÄ‚îÄ 02-exploration.qmd   # Exploratory analysis\n‚îÇ   ‚îú‚îÄ‚îÄ 03-main-analysis.qmd # Primary analysis\n‚îÇ   ‚îî‚îÄ‚îÄ 04-reporting.qmd     # Stakeholder report\n‚îú‚îÄ‚îÄ outputs/\n‚îÇ   ‚îú‚îÄ‚îÄ figures/             # Generated plots\n‚îÇ   ‚îî‚îÄ‚îÄ reports/             # Rendered reports\n‚îú‚îÄ‚îÄ docs/\n‚îÇ   ‚îú‚îÄ‚îÄ qa-checklist.md      # Completed QA record\n‚îÇ   ‚îú‚îÄ‚îÄ decisions-log.md     # Key decisions documented\n‚îÇ   ‚îî‚îÄ‚îÄ assumptions.md       # Assumptions checked\n‚îî‚îÄ‚îÄ scripts/\n    ‚îú‚îÄ‚îÄ analysis.R           # Complete R script\n    ‚îî‚îÄ‚îÄ analysis.py          # Complete Python script\n```\n\n---\n\n## üìñ Learning Objectives\n\n### Example 1: GP Access (Z-scoring)\n**Learn**:\n- Handling survey data with varying response rates\n- Missing data strategies\n- Small denominator considerations\n- Interpreting z-scores in context\n- Communicating statistical findings to non-technical stakeholders\n\n### Example 2: Falls Monitoring (SPC)\n**Learn**:\n- Setting up control charts\n- Baseline period selection\n- Detecting intervention effects\n- Applying detection rules\n- Handling special causes\n- When to recalculate limits\n\n### Example 3: Mental Health Waits (Skewed Data)\n**Learn**:\n- Identifying non-normal distributions\n- When z-scoring assumptions fail\n- Transformation approaches\n- Working z-scores (CQC method)\n- Comparing multiple approaches\n- Sensitivity analysis\n\n### Example 4: Medication Safety (Paired t-test)\n**Learn**:\n- Paired vs independent designs\n- Small sample considerations\n- Outlier handling\n- Effect size calculation and interpretation\n- Power analysis\n- Statistical vs practical significance\n\n### Example 5: Regional A&E (Two-sample t-test)\n**Learn**:\n- Independent samples comparison\n- Assumption checking workflow\n- Confounding variables\n- Subgroup analysis\n- Contextual interpretation\n\n### Example 6: Ambulance Handovers (SPC)\n**Learn**:\n- Time series monitoring\n- Trend detection\n- Seasonal patterns\n- Multiple special causes\n- System-level interpretation\n\n### Example 7: Infection Rates (Count Data)\n**Learn**:\n- Rate calculations with varying denominators\n- Small numbers handling\n- Case-mix considerations\n- Count vs rate interpretation\n\n### Example 8: DoLS Trends (Panel Data)\n**Learn**:\n- Panel data structures\n- Interrupted time series\n- Policy impact assessment\n- Authority-level variation\n\n### Example 9: Staffing and Quality (Correlation)\n**Learn**:\n- Formulating clear research questions\n- Pearson vs Spearman selection\n- Handling outliers in correlation\n- Confounding variable considerations\n- Correlation vs causation distinction\n- Sensitivity analysis approaches\n- Communicating uncertainty effectively\n\n### Example 10: Staffing Investigation (Outliers)\n**Learn**:\n- Multiple detection method application\n- Method agreement interpretation\n- Systematic investigation process\n- Distinguishing errors from extremes\n- Small provider variation handling\n- Treatment decision documentation\n- Regulatory defensibility requirements\n\n---\n\n## üîß Technical Features\n\n### Realistic Data Issues\nEach example includes common real-world problems:\n- Missing data (various patterns)\n- Outliers (data errors vs real variation)\n- Small sample sizes\n- Skewed distributions\n- Measurement error\n- Confounding variables\n\n### Complete Workflows\nNot just the statistical method, but:\n- Data import and cleaning\n- Exploratory data analysis\n- Assumption checking\n- Sensitivity analyses\n- Visualization\n- Interpretation\n- QA documentation\n- Stakeholder communication\n\n### Dual Language Support\n- Complete R code (tidyverse style)\n- Complete Python code (pandas/scipy)\n- Side-by-side comparison where helpful\n- Consistent outputs\n\n### QA Documentation\nEach example models good practice:\n- Completed QA checklist\n- Decision log (why we made choices)\n- Assumptions documented\n- Limitations stated\n- Alternative approaches considered\n\n---\n\n## üöÄ Implementation Priority\n\n### Phase 1 (Build First - 4-6 weeks)\n1. ‚úÖ Example 1: GP Access (Z-scoring)\n2. ‚úÖ Example 2: Falls Monitoring (SPC)\n3. ‚úÖ Example 4: Medication Safety (Paired t-test)\n\n**Rationale**: Cover the three core methods (Z-scoring, SPC, t-tests) with realistic scenarios\n\n### Phase 2 (Next - 4-6 weeks)\n4. Example 3: Mental Health Waits (Skewed data)\n5. Example 5: Regional A&E (Two-sample)\n\n**Rationale**: Add complexity (non-normal data, confounders)\n\n### Phase 3 (Future - as needed)\n6. Example 6: Ambulance Handovers\n7. Example 7: Infection Rates\n8. Example 8: DoLS Trends\n\n**Rationale**: Advanced scenarios, additional methods\n\n---\n\n## üí° Usage\n\n### For Learning\n- Work through examples sequentially\n- Try modifying parameters\n- Compare your approach to the documented decisions\n- Practice QA documentation\n\n### For Reference\n- Find similar scenario to your analysis\n- Adapt code for your data\n- Use QA templates\n- Copy visualization approaches\n\n### For Training\n- Use as training materials\n- Group exercises\n- Discussion of decision points\n- Practice peer review\n\n---\n\n## üöÄ Running the Examples\n\n### Prerequisites\n\n**R Users:**\n```r\n# Install required packages\ninstall.packages(c(\"tidyverse\", \"ggplot2\", \"qcc\", \"naniar\", \"mice\"))\n```\n\n**Python Users:**\n```python\n# Install required packages\npip install pandas numpy matplotlib seaborn scipy statsmodels missingno\n```\n\n### Data Files\n\nAll data files are located in `examples/data/` and are ready to use:\n\n- `gp_access_data.csv` - Example 1 (GP Access)\n- `falls_data.csv` - Example 2 (Care Home Falls)\n- `mental_health_wait_times.csv` - Example 3 (Mental Health)\n- `ae_performance_data.csv` - Examples 4, 5 (A&E Performance)\n- `infection_rates.csv` - Example 6 (Infection Rates)\n- `medication_safety_data.csv` - Example 4 (Medication Safety)\n- Additional files for Examples 7-10\n\n**Data generation**: All data is synthetic, generated by `data/generate_example_data.R`. You don't need to run this script - the CSV files are already provided.\n\n### Running an Example\n\n1. **Open the example file** (e.g., `example-01-complete.qmd`)\n2. **Ensure your working directory** is the project root (`f:/Varia/guidance/`)\n3. **Data paths are relative**: Code uses `examples/data/filename.csv`\n4. **Run code chunks sequentially** - each chunk builds on previous ones\n5. **Choose your language**: Use either R or Python tabs (both produce identical results)\n\n### Troubleshooting\n\n**\"File not found\" error:**\n- Check working directory is project root\n- Verify data file exists in `examples/data/`\n- Use relative path: `examples/data/filename.csv`\n\n**Package errors:**\n- Install missing packages (see Prerequisites above)\n- Update packages if using older versions\n\n**Code doesn't run:**\n- Run chunks in order (later chunks depend on earlier ones)\n- Check you've loaded required libraries\n- Verify data loaded correctly in first chunk\n\n---\n\n## üìù Notes\n\n### Data Generation\n- All data is synthetic but realistic\n- Based on actual CQC data patterns\n- Includes realistic data quality issues\n- Preserves statistical properties\n\n### Scenarios\n- Based on State of Care 2024/25\n- Reflect real CQC analytical questions\n- Include regulatory context\n- Show stakeholder communication\n\n### Maintenance\n- Examples will be updated as methods evolve\n- New examples added based on user feedback\n- Code tested with each Quarto book update\n\n---\n\n**Status**: ‚úÖ All 10 examples complete!\n\n**Next Action**: User feedback and refinement\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":"auto","echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":false,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":true,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../custom.css"],"toc":true,"toc-depth":3,"number-sections":false,"output-file":"README.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.1.251","bibliography":["../references.bib"],"theme":"cosmo","number-depth":2,"title":"Worked Examples Library","subtitle":"Complete Analytical Workflows for CQC Analysts"},"extensions":{"book":{"multiFile":true}}}}}